!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var s=t();for(var n in s)("object"==typeof exports?exports:e)[n]=s[n]}}(window,function(){return function(e){var t={};function s(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},s.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=4)}([function(e,t,s){"use strict";e.exports=function(e,t){if(e)throw new TypeError(t)}},function(e,t,s){"use strict";function n(e){for(var t=e.length,s=[],n=0;n<t;n+=1)s.push(e[n]);return s}e.exports={select:function(e){return document.querySelector(e)},selectAll:function(e){return n((arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelectorAll(e))},find:function(e,t){return n(e.querySelectorAll(t))},removeClass:function(e,t){e.classList.remove(t)},addClass:function(e,t){e.classList.add(t)},hasClass:function(e,t){return e.classList.contains(t)},removeElement:function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},closest:function(e,t){for(var s=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e&&!s.call(e,t);)e=e.parentElement;return e},getStyle:function(e,t,s){var n=window.getComputedStyle(e,null).getPropertyValue(t);return s?Number.parseFloat(n,10):n},blur:function(){document.activeElement&&document.activeElement.blur()},insertHtml:function(e,t,s){var n=["beforebegin","afterbegin","beforeend","afterend"];if(!n.includes(t))throw new TypeError("'position' must be one of them: "+n.join("„ÄÅ"));e.insertAdjacentHTML(t,s)}}},,function(e,t,s){},function(e,t,s){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},l=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}();s(3);var r=a(s(1)),o=a(s(0));function a(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=i({},e.DEFAULTS,s,{placeholder:"",original_width:0}),this.selectEl=t instanceof Element?t:document.querySelector(t),this.optionEl=Array.from(this.selectEl.querySelectorAll("option")),this.optionsArr=[],this.listeners=[],this._selectClick=this._selectClick.bind(this),this._resultsClick=this._resultsClick.bind(this),this._resultsMouseover=this._resultsMouseover.bind(this),this._searchChange=this._searchChange.bind(this),this._deselectClick=this._deselectClick.bind(this),this._upAndDown=this._upAndDown.bind(this),this._closeByDoc=this._closeByDoc.bind(this),this._init()}return l(e,[{key:"_init",value:function(){this.options.original_width=r.default.getStyle(this.selectEl,"width",!0),this.selectEl.style.display="none",this.optionsArr=this.optionEl.map(function(e,t){return{selected:e.selected,disabled:e.disabled,index:t,text:e.textContent,vaule:e.value,target:e}}),this.options.placeholder=this.selectEl.dataset.placeholder,this._creatDom(),this._defaultSelected(),this._eventBind()}},{key:"_defaultSelected",value:function(){var e=this._getSelected();if(0===e.length)this.deselectEl.style.display="none";else{var t=e[e.length-1].index;this._singleResults(t),this.deselectEl.style.display=""}}},{key:"_creatDom",value:function(){var e='\n      <div class="chosen-container chosen-container-single" style="width: '+(this.options.width?this.options.width:this.options.original_width+"px")+';">\n        <a class="chosen-single chosen-default '+(this.options.deselect?"chosen-single-with-deselect":"")+'">\n          <input class="chosen-search-input" type="text" autocomplete="off">\n          <span>'+this.options.placeholder+"</span>\n          "+(this.options.deselect?'<abbr class="search-choice-close"></abbr>':"")+'\n          <div><b></b></div>\n        </a>\n        <div class="chosen-drop">\n          '+(this.options.search?'<div class="chosen-search"><input type="text" autocomplete="off" /></div>':"")+'\n          <ul class="chosen-results"></ul>\n        </div>\n      </div>\n    ';r.default.insertHtml(this.selectEl,"afterend",e),this.containerEl=this.selectEl.nextElementSibling,this.resultsEl=this.containerEl.querySelector(".chosen-results"),this.singleEl=this.containerEl.querySelector(".chosen-single"),this.singleResultsEl=this.containerEl.querySelector(".chosen-single span"),this.singleSearchEl=this.containerEl.querySelector(".chosen-drop input"),this.deselectEl=this.containerEl.querySelector(".search-choice-close")}},{key:"_eventBind",value:function(){return this.singleEl.addEventListener("click",this._selectClick),this.resultsEl.addEventListener("mouseover",this._resultsMouseover),this.resultsEl.addEventListener("click",this._resultsClick),window.addEventListener("keydown",this._upAndDown),this.options.search&&this.singleSearchEl.addEventListener("input",this._searchChange),this.options.deselect&&this.deselectEl.addEventListener("click",this._deselectClick),document.addEventListener("click",this._closeByDoc),this}},{key:"_resultsUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.resultsEl.innerHTML="";var t,s=(e=e.toLowerCase().trim())?this._search(e):this.optionsArr,n=new RegExp(e,"ig");return t=0===s.length?'<li class="no-results">'+this.options.no_results+" <span>"+e+"</span></li>":s.map(function(t,s){return'<li class="'+(t.disabled?"disabled-result":"active-result"+(t.selected?" result-selected":""))+'" data-option-array-index="'+t.index+'" style="">'+(e?t.text.replace(n,function(e){return"<em>"+e+"</em>"}):t.text)+"</li>"}).join(""),r.default.insertHtml(this.resultsEl,"beforeend",t),this.resultsChildrenEl=Array.from(this.resultsEl.children),this}},{key:"_search",value:function(e){return this.optionsArr.filter(function(t){return t.text.toLowerCase().includes(e)})}},{key:"_selectClick",value:function(){return this._resultsUpdate(),r.default.hasClass(this.containerEl,"chosen-container-active")?this._openDrop(!1):this._openDrop(!0),this}},{key:"_openDrop",value:function(e){var t=this,s=this._getSelected();if(e){if(r.default.addClass(this.containerEl,"chosen-with-drop"),r.default.addClass(this.containerEl,"chosen-container-active"),this.options.search&&this.singleSearchEl.focus(),0===s.length)return;s.forEach(function(e){r.default.addClass(t.resultsEl.children[e.index],"highlighted")})}else r.default.removeClass(this.containerEl,"chosen-with-drop"),r.default.removeClass(this.containerEl,"chosen-container-active"),this.options.search&&(this.singleSearchEl.value=""),this.resultsChildrenEl.forEach(function(e){r.default.removeClass(e,"highlighted")});return this}},{key:"_resultsClick",value:function(e){var t=e.target;if("li"==t.nodeName.toLowerCase()&&!r.default.hasClass(t,"disabled-result")){var s=t.dataset.optionArrayIndex;this._singleResults(s),this._openDrop(!1),this.deselectEl.style.display="",this._triggerChange()}return this}},{key:"_singleResults",value:function(e){this.optionsArr.forEach(function(e){return e.selected&&(e.selected=!1)}),this.optionsArr[e].selected=!0,this.singleResultsEl.innerHTML=this.optionsArr[e].text,r.default.removeClass(this.singleEl,"chosen-default"),this.resultsChildrenEl&&(this.resultsChildrenEl.forEach(function(e){r.default.hasClass(e,"result-selected")&&r.default.removeClass(e,"result-selected")}),r.default.addClass(this.optionsArr[e].target,"result-selected"))}},{key:"_resultsMouseover",value:function(e){var t=e.target;"li"!=t.nodeName.toLowerCase()||r.default.hasClass(t,"disabled-result")||(this.resultsChildrenEl.forEach(function(e){r.default.hasClass(e,"highlighted")&&r.default.removeClass(e,"highlighted")}),r.default.addClass(t,"highlighted"))}},{key:"_searchChange",value:function(e){var t=e.target.value;return this._resultsUpdate(t),this}},{key:"_upAndDown",value:function(e){if(r.default.hasClass(this.containerEl,"chosen-container-active")){var t=e.keyCode,s=this.resultsChildrenEl.filter(function(e){return r.default.hasClass(e,"highlighted")})[0],n=this.resultsChildrenEl.indexOf(s);if(38===t){for(;n>0;)if(!r.default.hasClass(this.resultsChildrenEl[--n],"disabled-result")){this._upAndDownUpdate(n),this._upAndDownScroll(n,t);break}}else if(40===t){for(;n<this.resultsChildrenEl.length-1;)if(!r.default.hasClass(this.resultsChildrenEl[++n],"disabled-result")){this._upAndDownUpdate(n),this._upAndDownScroll(n,t);break}}else if(13===t){var i=this.resultsChildrenEl[n];i&&(this._singleResults(i.dataset.optionArrayIndex),this._openDrop(!1),this.deselectEl.style.display="",this._triggerChange())}}return this}},{key:"_upAndDownUpdate",value:function(e){this.resultsChildrenEl.forEach(function(e){r.default.hasClass(e,"highlighted")&&r.default.removeClass(e,"highlighted")}),r.default.addClass(this.resultsChildrenEl[e],"highlighted")}},{key:"_upAndDownScroll",value:function(e,t){var s=r.default.getStyle(this.resultsEl,"height",!0),n=r.default.getStyle(this.resultsChildrenEl[0],"height",!0);if(s<n*this.resultsChildrenEl.length){this.resultsChildrenEl[e];var i=n*(e+1);38===t?i>s?this.resultsEl.scrollTo(0,i-n):this.resultsEl.scrollTo(0,0):40===t&&i>s&&this.resultsEl.scrollTo(0,i-s)}}},{key:"_deselectClick",value:function(e){return e.stopPropagation(),r.default.addClass(this.singleEl,"chosen-default"),this.deselectEl.style.display="none",this.singleResultsEl.innerHTML=this.options.placeholder,this.optionsArr.forEach(function(e){return e.selected&&(e.selected=!1)}),this._resultsUpdate(),this._triggerChange(),this}},{key:"_getSelected",value:function(){return this.optionsArr.filter(function(e){return e.selected})}},{key:"_triggerChange",value:function(){var e=this._getSelected();return this.listeners.forEach(function(t){return t(e[0]||{})}),this}},{key:"_closeByDoc",value:function(e){!r.default.closest(e.target,".chosen-container")&&r.default.hasClass(this.containerEl,"chosen-container-active")&&this._openDrop(!1)}},{key:"change",value:function(e){return(0,o.default)("function"!=typeof e,"The change function parameter required function type, but get "+(void 0===e?"undefined":n(e))),this.listeners.push(e),this}},{key:"value",value:function(){return this._getSelected()[0]||{}}},{key:"destroy",value:function(){this.selectEl.style.display="",this.singleEl.removeEventListener("click",this._selectClick),this.resultsEl.removeEventListener("mouseover",this._resultsMouseover),this.resultsEl.removeEventListener("click",this._resultsClick),window.removeEventListener("keydown",this._upAndDown),this.options.search&&this.singleSearchEl.removeEventListener("input",this._searchChange),this.options.deselect&&this.deselectEl.removeEventListener("click",this._deselectClick),document.removeEventListener("click",this._closeByDoc),r.default.removeElement(this.containerEl)}}],[{key:"DEFAULTS",get:function(){return{search:!0,no_results:"Oops, nothing found!",deselect:!0,width:null}}}]),e}();window.Chosen=c,e.exports=c}])});